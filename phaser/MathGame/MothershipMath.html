<!doctype html>
<html lang="en">
  <head>
	<meta charset="UTF-8" />
    <title>Mothership Math</title>
	<script type="text/javascript" src="js/phaser.min.js"></script>
    <style type="text/css">
        body {
            margin: 0;
        }
    </style>
</head>
<body>

  <script type="text/javascript">

    var game = new Phaser.Game(400, 600, Phaser.AUTO, '', { preload: preload, create: create, update: update });

    function preload(){

      game.load.image('sky', 'assets/starfield.jpg');
      game.load.image('ground', 'assets/platform.png');
      game.load.image('heart', 'assets/heart_2.gif');
      game.load.image('ufo', 'assets/spaceship.png');
    }

    var score = 0;
    var scoreString = '';
    var scoreText;
    var lives;
    var ufo;




    function create(){

      //add background
      game.add.sprite(0, 0, 'sky');

      //create ground
      var ground = game.add.sprite(0, game.world.height-64, 'ground');
      ground.scale.setTo(2,2);

      //score
      scoreString = 'Score : ';
      scoreText = game.add.text(10, 10, scoreString + score, {font: '20px Arial', fill: '#fff'});

      //lives
      lives = game.add.group();
      game.add.text(game.world.width - 100, 10, 'Lives : ', {font: '20px Arial', fill: '#fff'});

      for(var i = 0; i < 3; i++){

        var heart = lives.create(game.world.width - 90 + (20 * i), 40, 'heart');
        heart.anchor.setTo(0.5, 0.5);

      }



      // Create ufo group
      ufo = game.add.group();

      //add 15 ufos to the group
      ufo.createMultiple(15, 'ufo', 0, false);

      // timer
      game.time.events.repeat(Phaser.Timer.SECOND, 20, resurrect, this);

      }




    function resurrect(){

      //get a dead item

      var item = ufo.getFirstDead();

      if(item)

      {
        //bring it back to life at the top of the screen
        item.reset(game.world.randomX, 45);

        //Change its frame
        item.frame = game.rnd.integerInRange(0, 36);
      }
    }


    function update() {







    }


    function render(){

      game.debug.text('Living: ' + ufo.countLiving() + '    Dead: ' + ufo.countDead(), 32, 64);

    }








  </script>
  </body>
</html>
